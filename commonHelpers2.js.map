{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'izitoast/dist/css/iziToast.css';\n\nlet formData = {\n  email: '',\n  message: '',\n};\n\nconst LS_KEY = 'feedback-form-state';\n\nconst ref = {\n  form: document.querySelector('.feedback-form'),\n};\n\nconst { form } = ref;\n\nform.addEventListener('input', () => {\n  formData = {\n    email: form.elements.email.value.trim(),\n    message: form.elements.message.value.trim(),\n  };\n\n  addDataToLocalStorage(LS_KEY, formData);\n\n  if (formData.email.trim() !== '' || formData.message.trim() !== '') {\n    const toast = document.querySelector('.iziToast');\n    if (toast) {\n      iziToast.hide({}, toast);\n    }\n  }\n});\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const dataEmail = event.target.elements.email.value;\n  const dataMessage = event.target.elements.message.value;\n\n  if (dataEmail.trim() === '' || dataMessage.trim() === '') {\n    iziToast.error({\n      title: 'Error',\n      message: 'Fill please all fields',\n      position: 'topCenter',\n      closeOnEscape: true,\n    });\n  } else {\n    console.log(formData);\n    removeDataFromLocaleStorage(LS_KEY, formData);\n    formData.email = '';\n    formData.message = '';\n    form.reset();\n  }\n});\n\ndocument.addEventListener('DOMContentLoaded', refillReload);\n\nfunction refillReload() {\n  const data = getDataFromLocalStorage(LS_KEY) || {};\n  form.elements.email.value = data.email || '';\n  form.elements.message.value = data.message || '';\n}\n\nfunction addDataToLocalStorage(key, value) {\n  try {\n    const stringifyData = JSON.stringify(value);\n    localStorage.setItem(key, stringifyData);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction getDataFromLocalStorage(key) {\n  try {\n    const lsData = localStorage.getItem(key);\n    return lsData === null ? undefined : JSON.parse(lsData);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n\nfunction removeDataFromLocaleStorage(key) {\n  try {\n    localStorage.removeItem(key);\n  } catch (error) {\n    console.log(error.message);\n  }\n}\n"],"names":["formData","LS_KEY","ref","form","addDataToLocalStorage","toast","iziToast","event","dataEmail","dataMessage","removeDataFromLocaleStorage","refillReload","data","getDataFromLocalStorage","key","value","stringifyData","error","lsData"],"mappings":"wIAIA,IAAIA,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,MAAMC,EAAS,sBAETC,EAAM,CACV,KAAM,SAAS,cAAc,gBAAgB,CAC/C,EAEM,CAAE,KAAAC,CAAM,EAAGD,EAEjBC,EAAK,iBAAiB,QAAS,IAAM,CAQnC,GAPAH,EAAW,CACT,MAAOG,EAAK,SAAS,MAAM,MAAM,KAAM,EACvC,QAASA,EAAK,SAAS,QAAQ,MAAM,KAAM,CAC/C,EAEEC,EAAsBH,EAAQD,CAAQ,EAElCA,EAAS,MAAM,SAAW,IAAMA,EAAS,QAAQ,KAAM,IAAK,GAAI,CAClE,MAAMK,EAAQ,SAAS,cAAc,WAAW,EAC5CA,GACFC,EAAS,KAAK,GAAID,CAAK,CAE1B,CACH,CAAC,EAEDF,EAAK,iBAAiB,SAAUI,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,MAAM,MACxCE,EAAcF,EAAM,OAAO,SAAS,QAAQ,MAE9CC,EAAU,SAAW,IAAMC,EAAY,KAAM,IAAK,GACpDH,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBACT,SAAU,YACV,cAAe,EACrB,CAAK,GAED,QAAQ,IAAIN,CAAQ,EACpBU,EAA4BT,CAAgB,EAC5CD,EAAS,MAAQ,GACjBA,EAAS,QAAU,GACnBG,EAAK,MAAK,EAEd,CAAC,EAED,SAAS,iBAAiB,mBAAoBQ,CAAY,EAE1D,SAASA,GAAe,CACtB,MAAMC,EAAOC,EAAwBZ,CAAM,GAAK,CAAA,EAChDE,EAAK,SAAS,MAAM,MAAQS,EAAK,OAAS,GAC1CT,EAAK,SAAS,QAAQ,MAAQS,EAAK,SAAW,EAChD,CAEA,SAASR,EAAsBU,EAAKC,EAAO,CACzC,GAAI,CACF,MAAMC,EAAgB,KAAK,UAAUD,CAAK,EAC1C,aAAa,QAAQD,EAAKE,CAAa,CACxC,OAAQC,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,SAASJ,EAAwBC,EAAK,CACpC,GAAI,CACF,MAAMI,EAAS,aAAa,QAAQJ,CAAG,EACvC,OAAOI,IAAW,KAAO,OAAY,KAAK,MAAMA,CAAM,CACvD,OAAQD,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,CAEA,SAASP,EAA4BI,EAAK,CACxC,GAAI,CACF,aAAa,WAAWA,CAAG,CAC5B,OAAQG,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH"}